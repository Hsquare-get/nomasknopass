# TIL1208

## (1) 시계열 분석 (Time Series Analysis)

### (I) 시계열 데이터

> 시간의 흐름에 따라 관찰된 데이터를 시계열 데이터라고한다. 이러한 시계열 데이터로는 주식가격 데이터, 실업률, 기후데이터 등이 있다. 대부분의 시계열 데이터는 비정상성 데이터이다. 시계열 데이터를 통해 미래를 예측하기 위해서는 비정상성 데이터를 정상성 데이터로 변화하여 분석모형을 설계할 수 있다. 시계열 데이터 분석을 통해 미래의 값을 예측하고 경향, 주기, 계절성 등을 파악하여 활용할 수 있다.



### (II) 정상성

- 평균이 일정할 경우
  - 모든 시점에 대해 일정한 평균을 가진다.

  - 평균이 일정하지 않은 시계열은 **차분(difference)을 통해 정상화**할 수 있다.

    > 차분(difference)
    >
    > - 현시점 자료에서 전 시점 자료를 빼는 것
    >
    > - 일반차분(regular difference) : 바로 전 시점의 자료를 빼는 방법
    > - 계절차분(seasonal difference) : 여러 시점 전의 자료를 빼는 방법, 주로 계절성을 갖는 자료를 정상화하는데 사용한다.

    

- 분산이 일정
  - 분산도 시점에 의존하지 않고 일정해야 한다.
  - 분산이 일정하지 않은 경우 **변환(Transformation)을 통해 정상화**할 수 있다.
  - 공분산도 단지 시차에만 의존, 실제 특정 지점 t, s에는 의존하지 않는다.

  

- 정상시계열의 특징
  - 정상 시계열은 어떤 시점에서 평균과 분산 그리고 특정한 시차의 길이를 갖는 자기공분산을 측정하더라도 동일한 값을 갖는다.
  - 정상 시계열은 항상 그 평균값으로 회귀하려는 경향이 있으며, 그 평균값 주변에서의 변동은 대체로 일정한 폭을 갖는다.
  - 정상 시계열이 아닌 경우 특정 기간의 시계열 자료로부터 얻은 정보를 다른 시기로 일반화할 수 없다.



### (III) 시계열 데이터 분석 방법

- 분석방법
  - 수학적 이론모형 : 회귀분석방법, Box-Jenkins(ARMA) 방법
  - 직관적 방법 : 지수평활법, 시계열 분해법
  - 장기 예측 : 회귀분석방법 활용
  - 단기 예측 : Box-Jenkins 방법, 지수평활법, 시계열 분해법 활용

  

- 자료 형태에 따른 분석 방법
  - 일변량 시계열분석

    - Box-Jenkins(ARMA), 지수평활법, 시계열 분해법 등이 있다.
    - 시간(t)을 설명변수로 한 회귀모형주가, 소매물가지수 등 하나의 변수에 관심을 갖는 경우의 시계열분석

  - 다중 시계열분석

    - 계량경제 모형, 전이함수 모형, 개입분석, 상태공간 분석, 다변량 ARIMA 등
    - 여러개의 시간(t)에 따른 변수들을 활용하는 시계열 분석

    > 계량경제(econometrics) : 시계열 데이터에 대한 회귀분석

    

- 이동평균법

  > 과거로부터 현재까지의 시계열 제이터를 대상으로 일정기간별 이동평균을 계산하고, 이들의 추세를 파악하여 다음 기간을 예측하는 방법

  - 이동평균법의 특징

    - 간단하고 쉽게 미래를 예측할 수 있으며, 자료의 수가 많고 안정된 패턴을 보이는 경우 예측의 품질(quality)이 높음
    - 특정 기간 안에 속하는 시계열에 대해서는 동일한 가중치를 부여함
    - 일반적으로 시계열 자료에 뚜렷한 추세가 있거나 불규칙 변동이 심하지 않은 경우에는 짧은 기간의 평균을 사용, 반대로 불규칙 변동이 심한 경우 긴 기간의 평균을 사용함
    - **이동평균법에서 가장 중요한 것은 적절한 기간을 사용하는 것**

    

- 지수평활법

  > 일정기간의 평균을 이용하는 이동평균법과 달리 모든 시계열 데이터를 사용하여 평균을 구하며, 시간의 흐름에 따라 최근 시계열에 더 많은 가중치를 부여하여 미래를 예측하는 방법

  - 지수평활법의 특징
    - 단기간에 발생하는 불규칙변동을 평활하는 방법
    - 자료의 수가 많고, 안정된 패턴을 보이는 경우일수록 예측 품질이 높음
    - 지수평활법에서 가중치의 역할을 하는 것은 지수평활계수(α)이며, 불규칙 변동이 큰 시계열의 경우 지수평활계수는 작은 값을, 불규칙 변동이 작은 시계열의 경우 큰값의 지수평활계수를 적용함
    - 지수평활계수는 예측오차(실제 관측치와 예측치 사이의 잔차제곱합)를 비교하여 예측오차가 가장 작은 값을 선택하는 것이 바람직함
    - 지수평활계수는 과거로 갈수록 지속적으로 감소함(최신 자료에 더 가중치를 둠)
    - 지수평활법은 불규칙 변동의 영향을 제거하는 효과가 있으며, 중기 예측 이상에 주로 사용됨



### (IV) 시계열 모형

1. **자기회귀 모형 (AR, Autoregressive model)**

   - p 시점 전의 자료가 현재 자료에 영향을 주는 모형

   - 자기상관함수(ACF)는 빠르게 감소, 부분자기함수(PACF)는 어느 시점에서 절단점을 가진다.

     > ACF(Autocorrelation function) : Lag에 따른 관측치들 사이의 관련성을 측정하는 함수
     >
     > PACF(Partial Autocorrelation function) : k 이외의 모든 다른 시점 관측치의 영향력을 배제하고 특정 시점과 그 시점으로부터 k 시점 전의 두 관측치의 관련성을 측정하는 함수
     >
     > ACF가 빠르게 감소하고, PACF가 어느 시점에서 절단점을 갖는 그래프가 있다면, 그 시점 전의 자료까지가 현재에 형향을 미치는 AR모형이라 볼 수 있다.



2. **이동평균 모형 (MA, Moving Average model)**

   - 유한한 개수의 백색잡음의 결합이므로 언제나 정상성을 만족
   - 1차 이동평균 모형은 이동평균 모형 중에서 가장 간단한 모형으로 시계열이 같은 시점의 백색잡음과 바로 전 시점의 백색잡음의 결합으로 이뤄진 모형

   - 2차 이동평균 모형은 바로 전 시점의 백색잡음과 시차가 2인 백샙잡음의 결합으로 이뤄진 모형
   - **AR 모형과 반대로 ACF에서 절단점을 갖고, PACF가 빠르게 감소**



3. **자기회귀누적이동평균 모형 (Autogressive Integrated Moving Average model)**
   - ARIMA 모형은 비정상시계열 모형이다.
   - ARIMA 모형을 차분이나 변환을 통해 AR 모형이나 MA 모형, 이 둘을 합친 ARMA 모형으로 정상화 할 수 있다.
   - ARIMA(p,d,q)
     - p는 AR 모형, q는 MA 모형과 관련있는 차수



4. **분해시계열**
   - 시계열에 영향을 주는 일반적인 요인을 시계열에서 분리해 분석하는 방법을 말하며 회귀분석적인 방법을 주로 사용한다.
